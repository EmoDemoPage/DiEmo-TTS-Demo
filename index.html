<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <style type="text/css">
      a:link {
        color: black;
        text-decoration: none;
      }
      a:visited {
        color: black;
        text-decoration: none;
      }
      a:hover {
        color: blue;
        text-decoration: underline;
      }
    </style>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>DiEmo-TTS Demo</title>
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
      crossorigin="anonymous"
    ></script>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <!-- Fonts CSS-->
    <link rel="stylesheet" href="css/heading.css" />
    <link rel="stylesheet" href="css/body.css" />
    <!-- Bootstrap slider CSS -->
    <!-- <link rel="stylesheet" href="css/bootstrap-slider.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css" integrity="sha512-3q8fi8M0VS+X/3n64Ndpp6Bit7oXSiyCnzmlx6IDBLGlY5euFySyJ46RUlqIVs0DPCGOypqP8IRk/EyPvU28mQ==" crossorigin="anonymous" /> -->

    <script>
      function createTable(dir, exp, audio, script, idx = 1) {
        html =
          '<table class="table table-responsive align-content-center" style="background-color: white; border-radius: 20px">';
        html += '<thead><tr><th colspan="5" style="width: 40%">';
        html += '<div class="text-left">Emotion : <i>';
        html += script["emotion"];
        html += '</i></div>'; 
        html += '<div class="text-left">Script : <i>';
        html += script["script"];
        html += "</i></div></th></tr></thead><tbody><tr>";
          for (var key in exp) {
            if (idx === 1 || idx === 4 || idx === 7) {
              html += "<tr>";
            }
          
            html += '<td style="vertical-align: top;"><p></p>';

            html += key;
          
            html += '<div class="text-center"><audio controls="controls"><source src=';
            f = dir + "/" + exp[key] + "/" + audio + ".wav";
            html += f;
            html += ' type="audio/wav" /></audio></div></td>';
          
            idx += 1;
          
            if (idx === 4 || idx === 7 || idx === 8) {
              html += "</tr>";
            }
          }
        html += "</tr></tbody></table>";
        return html;
      }
    </script>

    <script>
      function createTable2(dir, exp, audio, script, idx = 1) {
        html =
          '<table class="table table-responsive align-content-center" style="background-color: white; border-radius: 20px">';
        html += '<thead><tr><th colspan="5" style="width: 40%">';
        html += '<div class="text-left">Emotion : <i>';
        html += script["emotion"];
        html += '</i></div>'; 
        html += '<div class="text-left">Speaker : <i>';
        html += script["speaker"];
        html += '</i></div>'; 
        html += '<div class="text-left">Script : <i>';
        html += script["script"];
        html += "</i></div></th></tr></thead><tbody><tr>";
          for (var key in exp) {
            if (idx === 1 || idx === 4 || idx === 7) {
              html += "<tr>";
            }
          
            html += '<td style="vertical-align: top;"><p></p>';

            html += key;
          
            html += '<div class="text-center"><audio controls="controls"><source src=';
            f = dir + "/" + exp[key] + "/" + audio + ".wav";
            html += f;
            html += ' type="audio/wav" /></audio></div></td>';
          
            idx += 1;
          
            if (idx === 4 || idx === 7 || idx === 8) {
              html += "</tr>";
            }
          }
        html += "</tr></tbody></table>";
        return html;
      }
    </script>

    <script>
      function createTable3(dir, exp, audio, script, idx = 1) {
        html =
          '<table class="table table-responsive align-content-center" style="background-color: white; border-radius: 20px">';
        html += '<thead><tr><th colspan="5" style="width: 40%">';
        html += '<div class="text-left">Emotion : <i>';
        html += script["emotion"];
        html += '</i></div>'; 
        html += '<div class="text-left">Speaker : <i>';
        html += script["speaker"];
        html += '</i></div>'; 
        html += '<div class="text-left">Script : <i>';
        html += script["script"];
        html += "</i></div></th></tr></thead><tbody><tr>";
          for (var key in exp) {
            if (idx === 1 || idx === 4 || idx === 7) {
              html += "<tr>";
            }
          
            html += '<td style="vertical-align: top;"><p></p>';

            html += key;
          
            html += '<div class="text-center"><audio controls="controls"><source src=';
            f = dir + "/" + exp[key] + "/" + audio + ".wav";
            html += f;
            html += ' type="audio/wav" /></audio></div></td>';
          
            idx += 1;
          
            if (idx === 4 || idx === 7 || idx === 8) {
              html += "</tr>";
            }
          }
        html += "</tr></tbody></table>";
        return html;
      }
    </script>

  </head>
  <body id="page-top">
    <nav class="navbar navbar-expand-lg bg-secondary fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top"
          >DiEmo-TTS</a
        >
        <button
          class="navbar-toggler navbar-toggler-right font-weight-bold bg-primary text-white rounded"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#abstract">Abstract</a>
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#cross_speaker">Cross-Speaker<br />Emotion Transfer</a></li>
            <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#ablation">Ablation<br />Study</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead bg-white text-left">
      <!-- text-black 사용 가능 -->
      <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Heading-->
        <h1 class="masthead-heading mb-0">
          DiEmo-TTS: Disentangled Emotion Representations via Self-Supervised Distillation for Cross-Speaker Emotion Transfer in Text-to-Speech
        </h1>
        <!-- Masthead Subheading-->
        <!-- <p
          class="pre-wrap masthead-subheading font-weight-light mb-0 font-italic"
        >
          Hyung-Seok Oh, Sang-Hoon Lee and Seong-Whan Lee
        </p> -->
      </div>
    </header>

    <!-- Abstraction -->
    <section class="page-section portfolio" id="abstract">
      <div class="container">
        <!-- Portfolio Section Heading-->
        <div class="text-center">
          <h2 class="page-section-heading text-secondary mb-0 d-inline-block">
            Abstract
          </h2>
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom">
          <div class="divider-custom"></div>
        </div>
        <!-- Portfolio Grid Items-->
        <div class="row justify-content-center">
          <div class="col-lg-12 ml-auto">
            <p class="legend lead">
              Cross-speaker emotion transfer in speech synthesis relies on extracting speaker-independent emotion embeddings for accurate emotion modeling without retaining speaker traits. However, existing timbre compression methods fail to fully separate speaker and emotion characteristics, causing speaker leakage and degraded synthesis quality. To address this, we propose DiEmo-TTS, a self-supervised distillation method to minimize emotional information loss and preserve speaker identity. We introduce cluster-driven sampling and information perturbation to preserve emotion while removing irrelevant factors. To facilitate this process, we propose an emotion clustering and matching approach using emotional attribute prediction and speaker embeddings, enabling generalization to unlabeled data. Additionally, we designed a dual conditioning transformer to integrate style features better. Experimental results confirm the effectiveness of our method in learning speaker-irrelevant emotion embeddings.
            </p>
            <br />
            <br />
            <p class="legend lead">
              <strong>Official implementation of DiEmo-TTS:</strong> 
              <a href="https://github.com/EmoDemoPage/DiEmo-TTS" target="_blank">https://github.com/EmoDemoPage/DiEmo-TTS</a>
            </p>
          </div>
          <div class="text-center">
            <br />
            <img width="90%" src="./model_overview.png" />
            <br />
            <em>Overall framework of DiEmo-TTS</em> 
            <br />
          </div>
        </div>
      </div>
    </section>

    <section class="page-section bg-primary text-white mb-0" id="cross_speaker">
      <div class="container">
        <!-- About Section Heading-->
        <div class="text-center">
          <h2 class="page-section-heading d-inline-block text-white">
            Cross-Speaker Emotion Transfer
          </h2>
        </div>
        <div class="text-center" style="text-align: center">
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom"></div>
        </div>

        <div class="row">
          <div id="div3" class="col-lg-auto ml-auto">
            <script>
              dir = "./wavs/cross_speaker";
              exp = {
                "Reference": "ref",
                "Expressive FS2": "FastSpeech2",
                "Trans-GRL": "trans_grl",
                "Trans-VQ": "trans_vq",
                "Trans-Ort": "trans_ort",
                "DiEmo-TTS (Proposed)": "DiEmo",
              };
              audios = {
                "0013_0011_000382": {
                  emotion: "Happy",
                  speaker: "0013 (Male)",
                  script: "Who is been repeating all that hard stuff to you?",
                },
                "0019_0011_000394": {
                  emotion: "Happy",
                  speaker: "0019 (Female)",
                  script: "Take courage all isnt lost yet.",
                },
                "0013_0019_000031": {
                  emotion: "Angry",
                  speaker: "0013 (Male)",
                  script: "All smile were real and the happier the more sincere.",
                },
                "0019_0011_000032": {
                  emotion: "Angry",
                  speaker: "0019 (Female)",
                  script: "Who is been repeating all that hard stuff to you?",
                },
                "0019_0012_001075": {
                  emotion: "Sad",
                  speaker: "0019 (Female)",
                  script: "She is now choosing skirt to wear.",
                },
                "0013_0016_001075": {
                  emotion: "Sad",
                  speaker: "0013 (Male)",
                  script: "She is now choosing skirt to wear.",
                },
                "0019_0011_001425": {
                  emotion: "Surprise",
                  speaker: "0019 (Female)",
                  script: "She is now choosing skirt to wear.",
                },
                "0013_0017_001450": {
                  emotion: "Surprise",
                  speaker: "0013 (Male)",
                  script: "Rabbit gave dog a hurrying up sort of nudge.",
                },
              };
              for (var audio in audios) {
                div = document.getElementById("div3");
                script = audios[audio];
                html = createTable2(dir, exp, audio, script);
                // console.log(html)
                div.insertAdjacentHTML("afterend", html);
              }
            </script>
          </div>
        </div>
      </div>
    </section>


    <section class="page-section bg-info text-white mb-0" id="ablation">
      <div class="container">
        <!-- About Section Heading-->
        <div class="text-center">
          <h2 class="page-section-heading d-inline-block text-white">
            Ablation Study
          </h2>
        </div>
        <div class="text-center" style="text-align: center">
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom"></div>
        </div>

        <div class="row">
          <div id="div4" class="col-lg-auto ml-auto">
            <script>
              dir = "./wavs/ablation";
              exp = {
                "Reference": "ref",
                "DiEmo-TTS (Proposed)": "DiEmo",
                "-DCT": "ablation_DMA",
                "-DCT -CDS": "ablation_DMA_ESRC",
                "-DCT -CDS -CS": "ablation_DMA_ESRC_CS",
                "-DCT -CDS -CS -IP": "ablation_DMA_ESRC_CS_FS",
              };
              audios = {
                "0019_0011_000394": {
                  emotion: "Happy",
                  speaker: "0019 (Female)",
                  script: "Take courage all isnt lost yet.",
                },
                "0019_0020_001425": {
                  emotion: "Surprise",
                  speaker: "0019 (Female)",
                  script: "She is now choosing skirt to wear.",
                },
                "0019_0011_000032": {
                  emotion: "Angry",
                  speaker: "0019 (Female)",
                  script: "Who is been repeating all that hard stuff to you?",
                },
                "0013_0016_001075": {
                  emotion: "Sad",
                  speaker: "0013 (Male)",
                  script: "She is now choosing skirt to wear.",
                },
              };
              for (var audio in audios) {
                div = document.getElementById("div4");
                script = audios[audio];
                html = createTable3(dir, exp, audio, script);
                // console.log(html)
                div.insertAdjacentHTML("afterend", html);
              }
            </script>
          </div>
        </div>
      </div>
    </section>
    
    <div class="scroll-to-top d-lg-none position-fixed">
      <a
        class="js-scroll-trigger d-block text-center text-white rounded"
        href="#page-top"
        ><i class="fa fa-chevron-up"></i
      ></a>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

    <script src="js/scripts.js"></script>
    <!-- Bootstrap slider JavaScript -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"
      integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA=="
      crossorigin="anonymous"
    ></script>

    <!-- slider JS -->
    <script type="text/javascript"></script>
  </body>
</html>
